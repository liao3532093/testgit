<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.vsofo.automation.mapper.PermissionMapper">
    <resultMap id="powerClassRes" type="PowerClass">
        <result property="id" column="ID"/>
        <result property="title" column="Title"/>
        <result property="isLock" column="IsLock"/>
        <result property="orderNo" column="OrderNo"/>
    </resultMap>
    <resultMap id="powerParentRes" type="PowerParent">
        <result property="id" column="ID"/>
        <result property="title" column="Title"/>
        <result property="powerClassId" column="PowerClassID"/>
        <result property="isLock" column="IsLock"/>
        <result property="orderNo" column="OrderNo"/>
    </resultMap>
    <resultMap id="powerItemRes" type="PowerItem">
        <result property="id" column="ID"/>
        <result property="title" column="Title"/>
        <result property="parentClassId" column="ParentClassID"/>
        <result property="keywords" column="Keywords"/>
    </resultMap>
    <resultMap id="powerListRes" type="PowerList">
        <result property="id" column="ID"/>
        <result property="powerName" column="PowerName"/>
        <result property="userId" column="UserID"/>
    </resultMap>
    <!--保存大类别权限-->
    <select id="savePowerClassAll" parameterType="String" resultType="long">
        CALL pro_admin_powerclass(#{value},1)
    </select>
    <!--分页查询大类别权限-->
    <select id="selectPowerClassAll" parameterType="String" resultMap="powerClassRes">
        CALL pro_admin_powerclass(#{value},2)
    </select>
    <!--分页查询大类别权限个数-->
    <select id="selectPowerClassCount" parameterType="String" resultType="long">
        CALL pro_admin_powerclass(#{value},3)
    </select>
    <!--按ID查询大类别权限-->
    <select id="selectPowerClassById" parameterType="String" resultMap="powerClassRes">
        CALL pro_admin_powerclass(#{value},4)
    </select>
    <!--查询没有禁用的大类别权限-->
    <select id="selectOpenPowerClass" parameterType="String" resultMap="powerClassRes">
        CALL pro_admin_powerclass(#{value},5)
    </select>
    <!--保存权限小类别-->
    <select id="savePowerParentInfo" parameterType="String" resultType="long">
        CALL pro_admin_powerparent(#{value},1)
    </select>
    <!--分页查询权限小类别-->
    <select id="selectPowerParentAll" parameterType="String" resultMap="powerParentRes">
        CALL pro_admin_powerparent(#{value},2)
    </select>
    <!--分页查询权限小类别个数-->
    <select id="selectPowerParentCount" parameterType="String" resultType="long">
        CALL pro_admin_powerparent(#{value},3)
    </select>
    <!--按ID查询权限小类别-->
    <select id="selectPowerParentById" parameterType="String" resultMap="powerParentRes">
        CALL pro_admin_powerparent(#{value},4)
    </select>
    <!--查询没有禁用的权限小类别-->
    <select id="selectOpenPowerParent" parameterType="String" resultMap="powerParentRes">
        CALL pro_admin_powerparent(#{value},5)
    </select>
    <!--保存权限关键字-->
    <select id="savePowerItemInfo" parameterType="String" resultType="long">
        CALL pro_admin_poweritem(#{value},1)
    </select>
    <!--分页查询权限关键字-->
    <select id="selectPowerItemAll" parameterType="String" resultMap="powerItemRes">
        CALL pro_admin_poweritem(#{value},2)
    </select>
    <!--分页查询权限关键字个数-->
    <select id="selectPowerItemCount" parameterType="String" resultType="long">
        CALL pro_admin_poweritem(#{value},3)
    </select>
    <!--按ID查询权限关键字-->
    <select id="selectPowerItemById" parameterType="String" resultMap="powerItemRes">
        CALL pro_admin_poweritem(#{value},4)
    </select>
    <!--查询用户权限-->
    <select id="selectPowerListAll" parameterType="String" resultMap="powerListRes">
        CALL pro_admin_powerlist(#{value},1)
    </select>
    <!--保存用户权限-->
    <select id="savePowerListInfo" parameterType="String" resultType="long">
        CALL pro_admin_powerlist(#{value},2)
    </select>
</mapper>